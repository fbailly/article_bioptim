%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8
\documentclass[letterpaper, 10 pt, conference]{ieeeconf}  % Comment this line out if you need a4paper
\IEEEoverridecommandlockouts                              % This command is only needed if 
                                                         % you want to use the \thanks command
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{mathrsfs}
\usepackage{amsbsy}
\usepackage{caption}
\usepackage{float}
\usepackage{subcaption}
\usepackage{varwidth}
\usepackage{algorithm}
\usepackage{tabularx}
\usepackage{yhmath}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{booktabs}
\usepackage{rotating}
\usepackage[table]{xcolor}
\definecolor{grey}{rgb}{0.9,0.9,0.9}
\usepackage[noend]{algpseudocode}
\usepackage[top=60pt,left=48pt,right=48pt,bottom=45pt]{geometry}	
\usepackage{dsfont}
\usepackage{environ}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{algorithm}
\usepackage{accents}\newcommand\addtag{\refstepcounter{equation}\tag{\theequation}}
\usepackage{etoolbox}
\usepackage{graphicx}
\usepackage{rotating}
\usepackage{enumerate}
\usepackage[colorlinks]{hyperref}
\usepackage{relsize}
\usepackage{gensymb}
\usepackage{cleveref}
\usepackage{threeparttable}
\usepackage{xspace} 
\usepackage{colortbl}
\usepackage{siunitx}
\definecolor{Gray}{gray}{0.9}
\newcommand{\comFB}[1]{\noindent\colorbox{yellow}{\parbox{\dimexpr\columnwidth-1\fboxsep}{[FB: #1]}}}
%%% Customized commands
%%% math commands
\newcommand{\mvec}[1]{\bm{#1}}
\newcommand{\dmvec}[1]{\dot{\mvec{{#1}}}}
\newcommand{\ddmvec}[1]{\ddot{\mvec{{#1}}}}

\newcommand{\xt}{\mvec{x}(t)}
\newcommand{\ut}{\mvec{u}(t)}

% \newcommand{\st}{\text{s.t.}}  % This conflicts with soul and does not seem to be used anyway
\newcommand{\g}{\mvec{g}}
\newcommand{\q}{\mvec{q}}
\newcommand{\dq}{\dmvec{q}}
\newcommand{\ddq}{\ddmvec{q}} 

%%% table commands
\newcommand{\mymultirow}[2]{\parbox[t]{2mm}{\multirow{#1}{*}{\rotatebox[origin=c]{90}{#2}}}}
%%% Document
\title{\LARGE \bf Bioptim, a Python interface for Musculoskeletal Optimal Control in Biomechanics}
\author{Benjamin Michaud\textsuperscript{a,*,$\dagger$}, François Bailly\textsuperscript{a,$\dagger$}, Amedeo Ceglia\textsuperscript{a}, Eve Charbonneau\textsuperscript{a}, Léa Sanchez\textsuperscript{a}  and  Mickael Begon\textsuperscript{a}% <-this % stops a space

\thanks{\textsuperscript{$\dagger$}\,These authors have contributed equally to this work and share first authorship.}
\thanks{\textsuperscript{a}\,Laboratoire de Simulation et Modélisation du Mouvement, Faculté de Médecine, Université de Montréal, Laval, QC, Canada}%
\thanks{\textsuperscript{*}\,BENJAM@umontreal.ca}
}

%%% User commands

\usepackage{pdfrender}
\DeclareRobustCommand*{\pmbb}[1]{%
  \textpdfrender{
    TextRenderingMode=Stroke,
    LineWidth=.1pt,
  }{#1}%
}
\NewEnviron{comeq}{%
\par\vspace{0ex}
\begin{mdframed}[outerlinewidth=0.5,leftmargin=10,rightmargin=-10pt,backgroundcolor=white,hidealllines=true,leftline=true,
innertopmargin=0pt,splittopskip=0, skipbelow=\baselineskip, innerbottommargin=0pt%
skipabove=0ex]%
\vspace{-0ex}\hspace{0pt}\textit{Proof:}%
\itshape
\begin{equation*} 
\begin{split}
\BODY
\end{split}
\end{equation*}
\end{mdframed}
}
\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
\def\abs{\operatorname{abs}}
\def\argmax{\operatornamewithlimits{arg\,max}}
\def\argmin{\operatornamewithlimits{arg\,min}}
\def\diag{\operatorname{Diag}}
\newcommand{\eqRef}[1]{(\ref{#1})}
\newcommand{\dbtilde}[1]{\accentset{\approx}{#1}}
\newcommand{\state}{\mathbf{x}}
\newcommand{\dstate}{\dot{\mathbf{x}}}
\newcommand{\control}{\mathbf{u}}
\newcommand{\param}{\mathbf{p}}
\newcommand{\bioptim}{\textit{Bioptim}\xspace}
\newcommand{\casadi}{\textit{CasADi}\xspace}
\newcommand{\biorbd}{\textit{Biorbd}\xspace}
\newcommand{\acados}{\textit{ACADOS}\xspace}
\newcommand{\ipopt}{\textit{Ipopt}\xspace}
\newcommand{\bioviz}{\textit{Bioviz}\xspace}
\newcommand{\moco}{\textit{OpenSim Moco}\xspace}
\newcommand{\opensim}{\textit{OpenSim}\xspace}
\newcommand{\acado}{\textit{Acado}\xspace}
\newcommand{\gpopsii}{\textit{Gpops-II}\xspace}
\newcommand{\muscodii}{\textit{Muscod-II}\xspace}
\newcommand{\anybody}{\textit{Anybody}\xspace}
% bioptim's nomenclature
\newcommand{\constraints}{\texttt{Constraints}\xspace}
\newcommand{\constraint}{\texttt{Constraint}\xspace}
%
\newcommand{\objectives}{\texttt{Objective functions}\xspace}
\newcommand{\objective}{\texttt{Objective function}\xspace}
%
\newcommand{\dynamics}{\texttt{Dynamics}\xspace}
%
\newcommand{\bounds}{\texttt{Bounds}\xspace}
\newcommand{\bound}{\texttt{Bound}\xspace}

% Revision tools 
\usepackage{soul}  
\newcommand\comment[2]{\hl{#1}}
\newcommand\addref{\comment{REF}{}}
\newcommand\xx{\comment{XX}{}}
\hyphenpenalty=10000

\begin{document}

\maketitle
\thispagestyle{plain}
\pagestyle{plain}

\input{sections/abstract}

\section{Introduction}\label{sec:introduction}
\input{sections/introduction}

\section{Implementation and Design}\label{sec:design&impl}
\input{sections/design&impl}

\section{Examples}\label{sec:Examples}
\input{sections/examples}

\section{Discussion}\label{sec:discussion}
\input{sections/discussion}

\section*{Acknowledgment}
This study and the biorbd library development was partly funded by a scholarship of the  Vanier program (BM), the Canada First Research Excellence Fund via the TransMedTech Institute (FB) and the NSERC Discovey Programme (MB). 
Bioptim acts as a catalyst in our group and several students contributed to this library. 
Thank you to Paul, Théophile, Ariane, André and Kilpéric. 

\bibliographystyle{IEEEtran}
\bibliography{biblio}

\newpage
\input{sections/appendix}\label{sec:appendix}

\end{document}
